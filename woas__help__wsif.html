<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta woas_permanent="1" http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>WoaS::Help::WSIF</title><link rel="stylesheet" type="text/css" media="all" href="woas.css" /><meta name="generator" content="Wiki on a Stick v0.12.0 - http://stickwiki.sf.net/" />
<meta name="keywords" content="page,woas,header,WSIF,format,pages,WoaS,content,inline,only,used,data,value,inside,length,like,must,UTF,custom,following,currently,boundary,which,defined,external,plain,ASCII,ECMA,escaped,string,files,snippet,random,not,wsif,version,filename,8bit,text,file,definition,can,headers,example" />
<meta name="description" content="Wiki on a Stick Interchange Format is the preferred format for exporting full WoaS data into a single file and share it with whoever you like. Format descriptionWSIF format is similar to MIME email attachments format; each line is formatted like an e" />
<meta name="author" content="ZeekLTK" />
</head><body class="woas_export"><div id="woas_header_wrap"><div id="woas_header"><span id="woas_title">WoaS::Help::WSIF</span></div></div><div id="woas_content"><div id="woas_menu_wrap"><div id="woas_menu_pad"><div id="woas_menu"><a class="woas_link" title="" href="index.html">Main Page</a><ul><li><a class="woas_link" title="" href="timeline.html">Timeline</a></li><li><a class="woas_link" title="" href="zeekltk.html">ZeekLTK</a></li></ul><a class="woas_link" title="" href="challenge_league_season_2.html">Challenge League Season 2</a><br /><a class="woas_link" title="" href="fixtures.html">Fixtures</a><br /><ul><li><strong><a class="woas_link" title="" href="world_cup.html">World Cup</a></strong></li></ul><ul><li><strong><a class="woas_link" title="" href="challenge_league.html">Challenge League</a></strong></li></ul><ul><li><strong>Other Competitions</strong><ul><li><a class="woas_link" title="" href="confederations_cup.html">Confederations Cup</a></li><li><a class="woas_link" title="" href="euro_cup.html">Euro Cup</a></li><li><a class="woas_link" title="" href="african_cup.html">African Cup</a></li><li><a class="woas_link" title="" href="asian_cup.html">Asian Cup</a></li><li><a class="woas_link" title="" href="copa_america.html">Copa America</a></li><li><a class="woas_link" title="" href="gold_cup.html">Gold Cup</a></li><li><a class="woas_link" title="" href="world_series.html">World Series</a></li><li><a class="woas_link" title="" href="tens.html">Tens</a></li></ul></li></ul><ul><li><strong><span style="text-decoration:underline;">Teams</span></strong><ul><li><a class="woas_link" title="" href="afc.html">AFC</a></li><li><a class="woas_link" title="" href="caf.html">CAF</a></li><li><a class="woas_link" title="" href="concacaf.html">CONCACAF</a></li><li><a class="woas_link" title="" href="conmebol.html">CONMEBOL</a></li><li><a class="woas_link" title="" href="uefa.html">UEFA</a></li></ul></li></ul><ul><li><span class="woas_broken_link">Globe Cup</span></li><li><a class="woas_link" title="" href="international_league.html">International League</a></li><li><a class="woas_link" title="" href="development_cup.html">Development Cup</a></li></ul><ul><li><a class="woas_link" title="" href="records.html">Records</a></li></ul><ul><li><a class="woas_link" title="" href="world_rankings.html">World Rankings</a></li></ul><br /><input style="font-size:.75em;" id="menu_string_to_search" type="text" size="19" onkeydown="return menu_key_hook(event)" onfocus="menu_search_focus(true)" onblur="menu_search_focus(false)" />&nbsp;<input style="font-size:.75em;" class="woas_button" type="button" value="Search" onclick="menu_do_search()" /><br /><br /></div></div></div><div id="woas_page_wrap"><div id="woas_page"><strong>W</strong>iki on a <strong>S</strong>tick <strong>I</strong>nterchange <strong>F</strong>ormat is the preferred format for exporting full WoaS data into a single file and share it with whoever you like.<br /><h2 class="woas_heading" id="S18011">Format description</h2>WSIF format is similar to MIME email attachments format; each line is formatted like an <em>email header</em> definition:<br /><br /><tt class="woas_nowiki">header.name: header-value</tt><br /><br />All WSIF content must be ASCII, so <em>header-value</em> must be ECMA-escaped when necessary; this corresponds to escaping slashes "\" to "\\" and any UTF-8 sequence to the corresponding "\u0000" string, where <em>0000</em> is the lowercase hexadecimal value of the UTF-8 character (like in ECMAScript).<br /><br />WSIF files can contain custom headers, given that the following namespaces are currently reserved for official WSIF format support:<ul><li><strong>wsif</strong></li><li><strong>woas</strong></li></ul>For example you could define a new namespace for header definitions called <em>custom</em>:<br /><br /><pre class="woas_nowiki_multiline">custom.x: 100
custom.y: 200
custom.content: Hello world!</pre>It is then up to you to parse such header-value couples and give them proper representation.<br /><h2 class="woas_heading" id="S15783">Inline boundaries</h2>A line starting with two dashes (<em>--</em>) introduces an <strong>inline boundary</strong>, which is a properly encoded snippet.<br /><br />Example boundary:<br /><br /><pre class="woas_nowiki_multiline">--my-random-id
this is the inline snippet
--my-random-id</pre><em>my-random-id</em> must be a (usually random) string <strong>unique inside the boundary content</strong>, but it does not need to be unique inside the whole WSIF file, which must be read sequentially (like in a state machine).<br /><h1 class="woas_heading" id="S10599">wsif namespace</h1>The <strong>wsif.</strong> namespace currently defines only an information header:<br /><ul><li><strong>wsif.version</strong> - WSIF format version into which content is offered</li><li><strong>wsif.generator</strong> - program/library used to generate WSIF content</li></ul>Version 1.1.0 and above are currently supported.<br /><h1 class="woas_heading" id="S10619">woas namespace</h1>The <strong>woas.</strong> namespace defines general WoaS content properties and specific WoaS pages; the following headers are defined for general context:<br /><ul><li><strong>woas.version</strong> - version of WoaS used to produce the WSIF file</li><li><strong>woas.pages</strong> - total count of WoaS pages stored inside WSIF file</li></ul>The following are header definitions specific for WoaS pages:<br /><ul><li><strong>woas.page.title</strong> - ECMA-escaped page title; this header has a special meaning because it is the page start marker inside the state machine; it is suggested that WSIF implementations write it as first header for page definition stanzas;</li><li><strong>woas.page.attributes</strong> - a positive integer value in decimal format specifying the page attributes;</li><li><strong>woas.page.last_modified</strong> - a positive integer value in decimal format representing seconds lasted from the UTC epoch up to last modified time; this header is defined only if data is available from WoaS;</li><li><strong>woas.page.length</strong> - content length of the inline snippet; only inline files define it; this is not the decoded page length but the length of the content inside the inline boundaries;</li><li><strong>woas.page.original_length</strong> - real page length as seen by WoaS; it is currently defined only for encrypted pages;</li><li><strong>woas.page.encoding</strong> - snippet encoding format, see the <strong>Encoding</strong> section below;</li><li><strong>woas.page.disposition</strong> - tells whether page is <em>inline</em> or <em>external</em>;</li><li><strong>woas.page.boundary</strong> - string used for inline boundary recognition (without leading dashes); this header is specified only for inline snippets;</li><li><strong>woas.page.disposition.filename</strong> - filename used for external page content, not ECMA-escaped; defined only with external pages;</li><li><strong>woas.page.mime</strong> - mime type of external pages which have a defined mime type, like images for example;</li></ul>All headers are mandatory (under their specific state definition branch), except <em>last_modified</em> and <em>original_length</em>.<br /><h1 class="woas_heading" id="S3754">Encoding</h1>The <strong>woas.page.encoding</strong> header can contain one of the following values:<br /><ul><li><strong>8bit/plain</strong> - data is ASCII text which can use 8bits to represent characters; only ASCII text should be used and not UTF-8;</li><li><strong>ecma/plain</strong> - data is ECMA-escaped UTF-8 text;</li><li><strong>8bit/base64</strong> - data is base64-encoded binary data;</li><li><strong>text/wsif</strong> - data is WSIF (currently used only for external WSIF pages)</li></ul>Pages or header values are encoded in <strong>ecma/plain</strong> format when UTF-8 sequences are found inside the value string, otherwise <strong>8bit/plain</strong> is used; <strong>8bit/base64</strong> is instead used for binary files or encrypted pages.<br /><h1 class="woas_heading" id="S6692">Usage notes</h1>WSIF format is pretty straightforward to produce or interpret, however please consider the following facts:<br /><ul><li><strong>woas.page.disposition.filename</strong> must be plain ASCII (this limitation might be removed in future versions of the format) and should be a relative filename;</li><li>it is safe to embed a WSIF file inside another, given that boundaries are properly implemented</li></ul>WoaS project offers an official PHP library (libwsif) for reading/writing WSIF files, as well as a documented example.<br /></div></div></div></body></html>
